<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Join The Commons</title>
    <link rel="icon" href="/src/godc.png">
  <link href="https://fonts.googleapis.com/css2?family=Google+Sans:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-color: #ffffff;
            --text-color: #0f1419;
            --secondary-text: #536471;
            --border-color: #cfd9de;
            --button-bg: #0f1419;
            --button-text: #ffffff;
            --button-hover: #272c30;
            --input-bg: #ffffff;
            --card-bg: #ffffff;
            --accent-color: #006936;
            --accent-hover: #5fb14c;
            --divider-color: #ebeef0;
            --logo-filter: none;
            --modal-overlay: rgba(0, 0, 0, 0.4);
            --box-shadow: 0 0 10px rgba(0, 0, 0, 0.05);
        }

        [data-theme="dark"] {
            --bg-color: #000000;
            --text-color: #e7e9ea;
            --secondary-text: #71767b;
            --border-color: #2f3336;
            --button-bg: #eff3f4;
            --button-text: #000000;
            --button-hover: #d7dbdc;
            --input-bg: #202327;
            --card-bg: #16181c;
            --accent-color: #006936;
            --accent-hover: #5fb14c;
            --divider-color: #2f3336;
            --logo-filter: invert(1);
            --modal-overlay: rgba(91, 112, 131, 0.4);
            --box-shadow: 0 0 10px rgba(255, 255, 255, 0.05);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
      font-family: 'Google Sans', Arial, sans-serif;
        }

        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            transition: background-color 0.3s ease, color 0.3s ease;
        }

        .container {
            display: flex;
            flex: 1;
        }

        .left-side {
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        .right-side {
            flex: 1;
            background-color: var(--bg-color);
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
            overflow: hidden;
        }

        .typing-text {
            font-size: 120px;
            font-weight: 700;
            color: var(--accent-color);
            text-transform: lowercase;
            overflow: hidden;
            white-space: nowrap;
            border-right: 4px solid var(--accent-color);
            display: inline-block;
            min-width: 1ch;
        }

        .logo-container {
            position: absolute;
            top: 40px;
            left: 40px;
            z-index: 10;
        }

        .logo {
            width: 40px;
            height: 40px;
            filter: var(--logo-filter);
        }

        .theme-toggle {
            position: absolute;
            top: 20px;
            right: 20px;
            background: none;
            border: none;
            color: var(--text-color);
            font-size: 20px;
            cursor: pointer;
            z-index: 10;
        }

        .login-card {
            width: 100%;
            max-width: 400px;
            padding: 20px;
        }

        .login-header {
            margin-bottom: 40px;
        }

        .login-title {
            font-size: 31px;
            font-weight: 700;
            margin-bottom: 20px;
        }

        .login-subtitle {
            font-size: 16px;
            color: var(--secondary-text);
            margin-bottom: 30px;
        }

        .auth-buttons {
            display: flex;
            flex-direction: column;
            gap: 12px;
            margin-bottom: 20px;
        }

        .auth-button {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            padding: 12px 16px;
            border-radius: 50px;
            border: 1px solid var(--border-color);
            background-color: var(--bg-color);
            color: var(--text-color);
            font-size: 15px;
            font-weight: 500;
            cursor: pointer;
            transition: background-color 0.2s ease;
        }

        .auth-button:hover {
            background-color: rgba(15, 20, 25, 0.1);
        }

        .auth-button.admin {
            background-color: var(--accent-color);
            color: white;
            border: none;
        }

        .auth-button.admin:hover {
            background-color: var(--accent-hover);
        }

        .auth-button img, .auth-button i {
            width: 20px;
            height: 20px;
            object-fit: contain;
        }

        .divider {
            display: flex;
            align-items: center;
            margin: 20px 0;
        }

        .divider::before, .divider::after {
            content: "";
            flex: 1;
            height: 1px;
            background-color: var(--divider-color);
        }

        .divider span {
            padding: 0 10px;
            color: var(--secondary-text);
            font-size: 15px;
        }

        .footer-text {
            font-size: 15px;
            color: var(--secondary-text);
            text-align: center;
            margin-top: 20px;
        }

        .footer-text a {
            color: var(--accent-color);
            text-decoration: none;
        }

        .footer-text a:hover {
            text-decoration: underline;
        }

        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: var(--modal-overlay);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease, visibility 0.3s ease;
        }

        .modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .modal {
            background-color: var(--card-bg);
            border-radius: 16px;
            width: 100%;
            max-width: 600px;
            padding: 32px;
            box-shadow: var(--box-shadow);
            position: relative;
            transform: translateY(20px);
            opacity: 0;
            transition: transform 0.3s ease, opacity 0.3s ease;
        }

        .modal-overlay.active .modal {
            transform: translateY(0);
            opacity: 1;
        }

        .modal-close {
            position: absolute;
            top: 16px;
            right: 16px;
            background: none;
            border: none;
            color: var(--text-color);
            font-size: 20px;
            cursor: pointer;
        }

        .modal-title {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 24px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            font-size: 15px;
            font-weight: 500;
            margin-bottom: 8px;
            color: var(--text-color);
        }

        .form-input {
            width: 100%;
            padding: 12px 16px;
            border-radius: 4px;
            border: 1px solid var(--border-color);
            background-color: var(--input-bg);
            color: var(--text-color);
            font-size: 16px;
            transition: border-color 0.2s ease;
        }

        .form-input:focus {
            outline: none;
            border-color: var(--accent-color);
        }

        .form-actions {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 16px;
        }

        .remember-me {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .remember-me input {
            width: 18px;
            height: 18px;
            accent-color: var(--accent-color);
        }

        .forgot-password {
            color: var(--accent-color);
            text-decoration: none;
            font-size: 14px;
        }

        .forgot-password:hover {
            text-decoration: underline;
        }

        .submit-button {
            width: 100%;
            padding: 12px 16px;
            border-radius: 50px;
            border: none;
            background-color: var(--button-bg);
            color: var(--button-text);
            font-size: 16px;
            font-weight: 700;
            cursor: pointer;
            margin-top: 24px;
            transition: background-color 0.2s ease;
        }

        .submit-button:hover {
            background-color: var(--button-hover);
        }

        .loading-spinner {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: #fff;
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .success-icon {
            color: #4CAF50;
            animation: fadeIn 0.5s ease forwards;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: scale(0.8); }
            to { opacity: 1; transform: scale(1); }
        }

        .splash-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: var(--bg-color);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 2000;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease, visibility 0.3s ease;
        }

        .splash-screen.active {
            opacity: 1;
            visibility: visible;
        }

        .splash-logo {
            width: 100px;
            height: 100px;
            margin-bottom: 20px;
        }

        .splash-text {
            font-size: 16px;
            color: var(--secondary-text);
            letter-spacing: 1px;
            text-transform: uppercase;
            position: absolute;
            bottom: 40px;
        }

        .tos-content {
            max-height: 300px;
            overflow-y: auto;
            margin-bottom: 20px;
            padding: 15px;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            background-color: var(--input-bg);
            font-size: 14px;
            line-height: 1.5;
        }

        .tos-content::-webkit-scrollbar {
            width: 6px;
        }

        .tos-content::-webkit-scrollbar-track {
            background: var(--input-bg);
            border-radius: 3px;
        }

        .tos-content::-webkit-scrollbar-thumb {
            background: var(--accent-color);
            border-radius: 3px;
        }

        .tos-actions {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .tos-link {
            color: var(--accent-color);
            font-size: 14px;
            text-decoration: none;
        }

        .tos-link:hover {
            text-decoration: underline;
        }

        @media (max-width: 992px) {
            .container {
                flex-direction: column;
            }

            .right-side {
                display: none;
            }

            .left-side {
                padding: 40px 20px;
            }
        }

        @media (max-width: 576px) {
            .login-card {
                padding: 10px;
            }

            .modal {
                width: 90%;
                padding: 24px;
            }

            .typing-text {
                font-size: 48px;
            }
        }

        .footer {
            padding: 20px;
            text-align: center;
            border-top: 1px solid var(--border-color);
            background-color: var(--bg-color);
            position: sticky;
            bottom: 0;
            width: 100%;
            z-index: 100;
        }

        .footer-links {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 20px;
            margin-bottom: 15px;
        }

        .footer-link {
            color: var(--secondary-text);
            font-size: 14px;
            transition: color 0.2s ease;
        }

        .footer-link:hover {
            color: var(--accent-color);
        }

        .copyright {
            color: var(--secondary-text);
            font-size: 14px;
        }
    </style>
</head>
<body>
    <div class="splash-screen" id="splash-screen">
        <img src="/src/godc.png" alt="Logo" class="splash-logo" id="splash-logo">
        <div class="splash-text">COMMONS BY CTU-MC | BS-DEVCOM</div>
    </div>

    <div class="container">
        <div class="left-side">
            <div class="logo-container"></div>
            
            <button class="theme-toggle" id="theme-toggle">
                <i class="fas fa-moon"></i>
            </button>
            
            <div class="login-card">
                <div class="login-header">
                    <h1 class="login-title">JOIN THE COMMONS</h1>
                    <p class="login-subtitle">Join DevCom's Commons Today</p>
                </div>
                
                <div class="auth-buttons">
                    <button class="auth-button" id="google-auth">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" width="20px" height="20px">
                            <path fill="#FFC107" d="M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"></path>
                            <path fill="#FF3D00" d="M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"></path>
                            <path fill="#4CAF50" d="M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"></path>
                            <path fill="#1976D2" d="M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"></path>
                        </svg>
                        Sign up with Google
                    </button>
                    
                    <button class="auth-button admin" id="admin-auth">
                        <i class="fas fa-diversion"></i>
                        Admin Login
                    </button>
                </div>
                
                <div class="divider">
                    <span>or</span>
                </div>
                
                <p class="footer-text">
                    Need help? <a href="Chat Request" id="signin-link">Contact Us</a>
                </p>
            </div>
        </div>
        
        <div class="right-side">
            <div class="typing-text" id="typing-text"></div>
        </div>
    </div>
    
    <div class="modal-overlay" id="admin-modal">
        <div class="modal">
            <button class="modal-close" id="close-admin-modal">
                <i class="fas fa-times"></i>
            </button>
            
            <h2 class="modal-title">Admin Login</h2>
            
            <form id="admin-form">
                <div class="form-group">
                    <label for="admin-email" class="form-label">Email</label>
                    <input type="email" id="admin-email" class="form-input" placeholder="Enter your admin email" required>
                </div>
                
                <div class="form-group">
                    <label for="admin-password" class="form-label">Password</label>
                    <input type="password" id="admin-password" class="form-input" placeholder="Enter your password" required>
                </div>
                
                <div class="form-actions">
                    <div class="remember-me">
                        <input type="checkbox" id="remember-me">
                        <label for="remember-me">Remember me</label>
                    </div>
                    
                    <a href="#" class="forgot-password">Forgot password?</a>
                </div>
                
                <button type="submit" class="submit-button" id="admin-submit">Log In</button>
            </form>
        </div>
    </div>
    
    <div class="modal-overlay" id="email-modal">
        <div class="modal">
            <button class="modal-close" id="close-email-modal">
                <i class="fas fa-times"></i>
            </button>
            
            <h2 class="modal-title">Sign up with Email</h2>
            
            <form id="email-form">
                <div class="form-group">
                    <label for="user-name" class="form-label">Name</label>
                    <input type="text" id="user-name" class="form-input" placeholder="Enter your name" required>
                </div>
                
                <div class="form-group">
                    <label for="user-email" class="form-label">Email</label>
                    <input type="email" id="user-email" class="form-input" placeholder="Enter your email" required>
                </div>
                
                <div class="form-group">
                    <label for="user-password" class="form-label">Password</label>
                    <input type="password" id="user-password" class="form-input" placeholder="Create a password" required>
                </div>
                
                <button type="submit" class="submit-button" id="email-submit">Sign Up</button>
            </form>
        </div>
    </div>
    
    <div class="modal-overlay" id="signin-modal">
        <div class="modal">
            <button class="modal-close" id="close-signin-modal">
                <i class="fas fa-times"></i>
            </button>
            
            <h2 class="modal-title">Sign in to your account</h2>
            
            <form id="signin-form">
                <div class="form-group">
                    <label for="signin-email" class="form-label">Email</label>
                    <input type="email" id="signin-email" class="form-input" placeholder="Enter your email" required>
                </div>
                
                <div class="form-group">
                    <label for="signin-password" class="form-label">Password</label>
                    <input type="password" id="signin-password" class="form-input" placeholder="Enter your password" required>
                </div>
                
                <div class="form-actions">
                    <div class="remember-me">
                        <input type="checkbox" id="signin-remember">
                        <label for="signin-remember">Remember me</label>
                    </div>
                    
                    <a href="#" class="forgot-password">Forgot password?</a>
                </div>
                
                <button type="submit" class="submit-button" id="signin-submit">Sign In</button>
            </form>
        </div>
    </div>

    <div class="modal-overlay" id="tos-modal">
        <div class="modal">
            <button class="modal-close" id="close-tos-modal">
                <i class="fas fa-times"></i>
            </button>
            
            <h2 class="modal-title">Terms of Service</h2>
            
            <div class="tos-content">
                <p>Welcome to Access Point Commons! By using our platform, you agree to the following terms and conditions:</p>
                <h3>1. Acceptance of Terms</h3>
                <p>By accessing or using Access Point Commons, you agree to be bound by these Terms of Service and all applicable laws and regulations.</p>
                <h3>2. User Conduct</h3>
                <p>You agree to use Access Point Commons in a manner consistent with all applicable laws and regulations. You are responsible for all activity that occurs under your account.</p>
                <h3>3. Privacy</h3>
                <p>Your privacy is important to us. Our Privacy Policy explains how we collect, use, and protect your information.</p>
                <h3>4. Content Guidelines</h3>
                <p>Users must not post content that is harmful, threatening, abusive, harassing, defamatory, or otherwise objectionable.</p>
                <h3>5. Termination</h3>
                <p>We reserve the right to terminate or suspend your account at our sole discretion, without notice, for conduct that we believe violates these Terms of Service or is harmful to other users or us.</p>
            </div>
            
            <div class="tos-actions">
                <a href="/pages/ToS" class="tos-link">Read Full Terms</a>
                <button class="submit-button" id="accept-tos">I Accept</button>
            </div>
        </div>
    </div>
    
    <footer class="footer">
        <div class="footer-links">
            <a href="About Us" class="footer-link">About</a>
            <a href="/pages/ToS" class="footer-link">Terms of Service</a>
            <a href="/pages/ToS" class="footer-link">Privacy Policy</a>
            <a href="https://www.facebook.com/ctudevcomofficial" target="_blank" class="footer-link">Facebook</a>
        </div>
        <div class="copyright">
            Â© 2025 CTU-MC | BS-DEVCOM | ALL RIGHTS RESERVED.
        </div>
    </footer>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.1.0/firebase-app.js";
        import { 
            getAuth, 
            signInWithPopup, 
            GoogleAuthProvider, 
            signInWithEmailAndPassword,
            createUserWithEmailAndPassword
        } from "https://www.gstatic.com/firebasejs/10.1.0/firebase-auth.js";

        const firebaseConfig = {
            apiKey: "AIzaSyDSe2c9-8xqShoHEW-D7BXXAyD5N9uXWEs",
            authDomain: "ang-silakbo.firebaseapp.com",
            projectId: "ang-silakbo",
            storageBucket: "ang-silakbo.appspot.com",
            messagingSenderId: "1006400633782",
            appId: "1:1006400633782:web:ef4a93c1d445cb825b9f17",
            measurementId: "G-TSDTG2YJ94"
        };

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const googleProvider = new GoogleAuthProvider();

        const themeToggle = document.getElementById('theme-toggle');
        const adminAuthBtn = document.getElementById('admin-auth');
        const googleAuthBtn = document.getElementById('google-auth');
        const coralAuthBtn = document.getElementById('coral-auth');
        const signinLink = document.getElementById('signin-link');
        
        const adminModal = document.getElementById('admin-modal');
        const emailModal = document.getElementById('email-modal');
        const signinModal = document.getElementById('signin-modal');
        const tosModal = document.getElementById('tos-modal');
        
        const closeAdminModal = document.getElementById('close-admin-modal');
        const closeEmailModal = document.getElementById('close-email-modal');
        const closeSigninModal = document.getElementById('close-signin-modal');
        const closeTosModal = document.getElementById('close-tos-modal');
        
        const adminForm = document.getElementById('admin-form');
        const emailForm = document.getElementById('email-form');
        const signinForm = document.getElementById('signin-form');
        const acceptTos = document.getElementById('accept-tos');
        
        const adminSubmit = document.getElementById('admin-submit');
        const emailSubmit = document.getElementById('email-submit');
        const signinSubmit = document.getElementById('signin-submit');
        
        const splashScreen = document.getElementById('splash-screen');
        const typingText = document.getElementById('typing-text');

        const socialWords = [
            'scrib.', 'connect.', 'roni.', 'share.', 'asnahon.','post.', 'lmao.','like.', 'follow.', 'chat.', 'trend.', 'hashtag.',
            'engage.', 'comment.', 'message.', 'stream.', 'network.', 'viral.', 'story.', 'update.'
        ];
        let currentWordIndex = 0;
        let currentCharIndex = 0;
        let isDeleting = false;

        function typeWord() {
            const currentWord = socialWords[currentWordIndex];
            
            if (!isDeleting) {
                typingText.textContent = currentWord.substring(0, currentCharIndex);
                currentCharIndex++;
                
                if (currentCharIndex > currentWord.length) {
                    isDeleting = true;
                    setTimeout(typeWord, 1000);
                    return;
                }
            } else {
                typingText.textContent = currentWord.substring(0, currentCharIndex);
                currentCharIndex--;
                
                if (currentCharIndex < 0) {
                    isDeleting = false;
                    currentWordIndex = (currentWordIndex + 1) % socialWords.length;
                    setTimeout(typeWord, 500);
                    return;
                }
            }
            
            setTimeout(typeWord, isDeleting ? 50 : 100);
        }

        typeWord();

        function setTheme(theme) {
            document.documentElement.setAttribute('data-theme', theme);
            localStorage.setItem('theme', theme);
            themeToggle.innerHTML = theme === 'dark' ? '<i class="fas fa-sun"></i>' : '<i class="fas fa-moon"></i>';
        }

        const savedTheme = localStorage.getItem('theme') || 
            (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light');
        setTheme(savedTheme);

        themeToggle.addEventListener('click', () => {
            const currentTheme = document.documentElement.getAttribute('data-theme') || 'light';
            setTheme(currentTheme === 'light' ? 'dark' : 'light');
        });

        function openModal(modal) {
            modal.classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function closeModal(modal) {
            modal.classList.remove('active');
            document.body.style.overflow = '';
        }

        function showSplashScreen() {
            splashScreen.classList.add('active');
            document.body.style.overflow = 'hidden';
            setTimeout(() => {
                window.location.href = 'Thoughts';
            }, 2000);
        }

        function signInWithGoogle() {
            googleProvider.setCustomParameters({
                'prompt': 'select_account'
            });
            
            signInWithPopup(auth, googleProvider)
                .then((result) => {
                    console.log("Google sign in successful:", result.user.email);
                    openModal(tosModal);
                })
                .catch((error) => {
                    console.error("Google sign in error:", error);
                    alert("An error occurred during sign in. Please try again.");
                });
        }

        function handleAdminLogin(e) {
            e.preventDefault();
            
            const email = document.getElementById('admin-email').value;
            const password = document.getElementById('admin-password').value;
            
            const authorizedAdmins = [
                'angsilakbo1@uclm.com',
                'angsilakbo2@uclm.com',
                'angsilakbo3@uclm.com'
            ];
            
            if (!authorizedAdmins.includes(email)) {
                alert("This email is not authorized for admin access.");
                return;
            }
            
            const originalBtnText = adminSubmit.innerHTML;
            adminSubmit.innerHTML = '<span class="loading-spinner"></span>';
            adminSubmit.disabled = true;
            
            signInWithEmailAndPassword(auth, email, password)
                .then((userCredential) => {
                    console.log("Admin logged in:", userCredential.user.email);
                    adminSubmit.innerHTML = '<span class="success-icon"><i class="fas fa-check"></i> Success!</span>';
                    adminSubmit.style.backgroundColor = '#4CAF50';
                    setTimeout(() => {
                        closeModal(adminModal);
                        showSplashScreen();
                    }, 1000);
                })
                .catch((error) => {
                    console.error("Admin login error:", error);
                    adminSubmit.innerHTML = '<i class="fas fa-times"></i> Failed';
                    adminSubmit.style.backgroundColor = '#F44336';
                    setTimeout(() => {
                        adminSubmit.innerHTML = originalBtnText;
                        adminSubmit.style.backgroundColor = '';
                        adminSubmit.disabled = false;
                        alert("Invalid email or password. Please try again.");
                    }, 1000);
                });
        }

        function handleEmailSignup(e) {
            e.preventDefault();
            
            const name = document.getElementById('user-name').value;
            const email = document.getElementById('user-email').value;
            const password = document.getElementById('user-password').value;
            
            const originalBtnText = emailSubmit.innerHTML;
            emailSubmit.innerHTML = '<span class="loading-spinner"></span>';
            emailSubmit.disabled = true;
            
            createUserWithEmailAndPassword(auth, email, password)
                .then((userCredential) => {
                    console.log("User signed up:", userCredential.user.email);
                    emailSubmit.innerHTML = '<span class="success-icon"><i class="fas fa-check"></i> Success!</span>';
                    emailSubmit.style.backgroundColor = '#4CAF50';
                    setTimeout(() => {
                        closeModal(emailModal);
                        openModal(tosModal);
                    }, 1000);
                })
                .catch((error) => {
                    console.error("Email signup error:", error);
                    emailSubmit.innerHTML = '<i class="fas fa-times"></i> Failed';
                    emailSubmit.style.backgroundColor = '#F44336';
                    setTimeout(() => {
                        emailSubmit.innerHTML = originalBtnText;
                        emailSubmit.style.backgroundColor = '';
                        emailSubmit.disabled = false;
                        alert("Error creating account: " + error.message);
                    }, 1000);
                });
        }

        function handleSignIn(e) {
            e.preventDefault();
            
            const email = document.getElementById('signin-email').value;
            const password = document.getElementById('signin-password').value;
            
            const originalBtnText = signinSubmit.innerHTML;
            signinSubmit.innerHTML = '<span class="loading-spinner"></span>';
            signinSubmit.disabled = true;
            
            signInWithEmailAndPassword(auth, email, password)
                .then((userCredential) => {
                    console.log("User signed in:", userCredential.user.email);
                    signinSubmit.innerHTML = '<span class="success-icon"><i class="fas fa-check"></i> Success!</span>';
                    signinSubmit.style.backgroundColor = '#4CAF50';
                    setTimeout(() => {
                        closeModal(signinModal);
                        showSplashScreen();
                    }, 1000);
                })
                .catch((error) => {
                    console.error("Sign in error:", error);
                    signinSubmit.innerHTML = '<i class="fas fa-times"></i> Failed';
                    signinSubmit.style.backgroundColor = '#F44336';
                    setTimeout(() => {
                        signinSubmit.innerHTML = originalBtnText;
                        signinSubmit.style.backgroundColor = '';
                        signinSubmit.disabled = false;
                        alert("Invalid email or password. Please try again.");
                    }, 1000);
                });
        }

        adminAuthBtn.addEventListener('click', () => openModal(adminModal));
        signinLink.addEventListener('click', () => openModal(signinModal));
        closeAdminModal.addEventListener('click', () => closeModal(adminModal));
        closeSigninModal.addEventListener('click', () => closeModal(signinModal));
        closeTosModal.addEventListener('click', () => closeModal(tosModal));
        
        adminModal.addEventListener('click', (e) => {
            if (e.target === adminModal) closeModal(adminModal);
        });
        
        signinModal.addEventListener('click', (e) => {
            if (e.target === signinModal) closeModal(signinModal);
        });
        
        tosModal.addEventListener('click', (e) => {
            if (e.target === tosModal) closeModal(tosModal);
        });
        
        googleAuthBtn.addEventListener('click', signInWithGoogle);
        adminForm.addEventListener('submit', handleAdminLogin);
        signinForm.addEventListener('submit', handleSignIn);
        
        acceptTos.addEventListener('click', () => {
            closeModal(tosModal);
            showSplashScreen();
        });
        
        coralAuthBtn.addEventListener('click', () => {
            alert("Redirecting to Coral...");
            window.location.href = 'Bot';
        });

        document.addEventListener('click', (e) => {
            if (e.target.classList.contains('modal-overlay')) {
                closeModal(e.target);
            }
        });
    </script>
</body>
</html>
