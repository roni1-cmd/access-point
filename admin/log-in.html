<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Access Point - Access Admin</title>
    <link rel="icon" type="image/x-icon" href="/src/godc.png">
    <link href="https://fonts.googleapis.com/css2?family=Google+Sans:wght@400;500;600&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .pencil {
            display: block;
            width: 6em;
            height: 6em;
        }

        .pencil__body1,
        .pencil__body2,
        .pencil__body3,
        .pencil__eraser,
        .pencil__eraser-skew,
        .pencil__point,
        .pencil__rotate,
        .pencil__stroke {
            animation-duration: 3s;
            animation-timing-function: linear;
            animation-iteration-count: infinite;
        }

        .pencil__body1,
        .pencil__body2,
        .pencil__body3 {
            transform: rotate(-90deg);
        }

        .pencil__body1 {
            animation-name: pencilBody1;
        }

        .pencil__body2 {
            animation-name: pencilBody2;
        }

        .pencil__body3 {
            animation-name: pencilBody3;
        }

        .pencil__eraser {
            animation-name: pencilEraser;
            transform: rotate(-90deg) translate(49px,0);
        }

        .pencil__eraser-skew {
            animation-name: pencilEraserSkew;
            animation-timing-function: ease-in-out;
        }

        .pencil__point {
            animation-name: pencilPoint;
            transform: rotate(-90deg) translate(49px,-30px);
        }

        .pencil__rotate {
            animation-name: pencilRotate;
        }

        .pencil__stroke {
            animation-name: pencilStroke;
            transform: translate(100px,100px) rotate(-113deg);
        }

        .loader-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(255, 255, 255, 0.9);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        @keyframes pencilBody1 {
            from, to {
                stroke-dashoffset: 351.86;
                transform: rotate(-90deg);
            }
            50% {
                stroke-dashoffset: 150.8;
                transform: rotate(-225deg);
            }
        }

        @keyframes pencilBody2 {
            from, to {
                stroke-dashoffset: 406.84;
                transform: rotate(-90deg);
            }
            50% {
                stroke-dashoffset: 174.36;
                transform: rotate(-225deg);
            }
        }

        @keyframes pencilBody3 {
            from, to {
                stroke-dashoffset: 296.88;
                transform: rotate(-90deg);
            }
            50% {
                stroke-dashoffset: 127.23;
                transform: rotate(-225deg);
            }
        }

        @keyframes pencilEraser {
            from, to {
                transform: rotate(-45deg) translate(49px,0);
            }
            50% {
                transform: rotate(0deg) translate(49px,0);
            }
        }

        @keyframes pencilEraserSkew {
            from, 32.5%, 67.5%, to {
                transform: skewX(0);
            }
            35%, 65% {
                transform: skewX(-4deg);
            }
            37.5%, 62.5% {
                transform: skewX(8deg);
            }
            40%, 45%, 50%, 55%, 60% {
                transform: skewX(-15deg);
            }
            42.5%, 47.5%, 52.5%, 57.5% {
                transform: skewX(15deg);
            }
        }

        @keyframes pencilPoint {
            from, to {
                transform: rotate(-90deg) translate(49px,-30px);
            }
            50% {
                transform: rotate(-225deg) translate(49px,-30px);
            }
        }

        @keyframes pencilRotate {
            from {
                transform: translate(100px,100px) rotate(0);
            }
            to {
                transform: translate(100px,100px) rotate(720deg);
            }
        }

        @keyframes pencilStroke {
            from {
                stroke-dashoffset: 439.82;
                transform: translate(100px,100px) rotate(-113deg);
            }
            50% {
                stroke-dashoffset: 164.93;
                transform: translate(100px,100px) rotate(-113deg);
            }
            75%, to {
                stroke-dashoffset: 439.82;
                transform: translate(100px,100px) rotate(112deg);
            }
        }
    </style>
    <script type="module">
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';
        import { getAuth, signInWithEmailAndPassword, createUserWithEmailAndPassword } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js';
        import { getAnalytics } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-analytics.js';

        const firebaseConfig = {
            apiKey: "AIzaSyAsynsRyRVwNYzOtqG4yDdcy5HWw74aOzY",
            authDomain: "student-s-helpdesk.firebaseapp.com",
            databaseURL: "https://student-s-helpdesk-default-rtdb.firebaseio.com",
            projectId: "student-s-helpdesk",
            storageBucket: "student-s-helpdesk.firebasestorage.app",
            messagingSenderId: "270861175145",
            appId: "1:270861175145:web:b66a5f9fef8ac3104855f8",
            measurementId: "G-VRKD5P955F"
        };

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const analytics = getAnalytics(app);

        window.setupAdmin = async function() {
            try {
                await createUserWithEmailAndPassword(auth, 'bsdc.devcom@ctu.com', 'ctu1234');
                console.log('Admin account created successfully');
            } catch (error) {
                if (error.code === 'auth/email-already-in-use') {
                    console.log('Admin account already exists');
                } else {
                    console.error('Error creating admin account:', error);
                }
            }
        };

        window.signInUser = async function(email, password) {
            const loader = document.getElementById('loader');
            loader.style.display = 'flex';
            
            try {
                const userCredential = await signInWithEmailAndPassword(auth, email, password);
                const user = userCredential.user;
                console.log('User signed in successfully:', user.email);
                
                setTimeout(() => {
                    loader.style.display = 'none';
                    window.location.href = '/admin/admin-panel.html';
                }, 2000);
                
                return true;
            } catch (error) {
                console.error('Error signing in:', error);
                loader.style.display = 'none';
                alert('Login failed: ' + error.message);
                return false;
            }
        };

        document.addEventListener('DOMContentLoaded', function() {
            setupAdmin();
        });
    </script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        'google-sans': ['Google Sans', 'sans-serif'],
                    },
                    colors: {
                        'primary-dark': '#353539',
                        'green-dark': '#0e3521',
                        'green-medium': '#006936',
                        'green-light': '#5fb14c',
                        'accent-yellow': '#f1ec33',
                        'green-muted': '#4a7c59'
                    }
                }
            }
        }
    </script>
</head>
<body class="font-google-sans bg-gray-50 min-h-screen flex flex-col lg:flex-row">
    <div id="loader" class="loader-overlay">
        <div class="text-center">
            <svg xmlns="http://www.w3.org/2000/svg" height="200px" width="200px" viewBox="0 0 200 200" class="pencil">
                <defs>
                    <clipPath id="pencil-eraser">
                        <rect height="30" width="30" ry="5" rx="5"></rect>
                    </clipPath>
                </defs>
                <circle transform="rotate(-113,100,100)" stroke-linecap="round" stroke-dashoffset="439.82" stroke-dasharray="439.82 439.82" stroke-width="2" stroke="#006936" fill="none" r="70" class="pencil__stroke"></circle>
                <g transform="translate(100,100)" class="pencil__rotate">
                    <g fill="none">
                        <circle transform="rotate(-90)" stroke-dashoffset="402" stroke-dasharray="402.12 402.12" stroke-width="30" stroke="#5fb14c" r="64" class="pencil__body1"></circle>
                        <circle transform="rotate(-90)" stroke-dashoffset="465" stroke-dasharray="464.96 464.96" stroke-width="10" stroke="#4a7c59" r="74" class="pencil__body2"></circle>
                        <circle transform="rotate(-90)" stroke-dashoffset="339" stroke-dasharray="339.29 339.29" stroke-width="10" stroke="#0e3521" r="54" class="pencil__body3"></circle>
                    </g>
                    <g transform="rotate(-90) translate(49,0)" class="pencil__eraser">
                        <g class="pencil__eraser-skew">
                            <rect height="30" width="30" ry="5" rx="5" fill="#5fb14c"></rect>
                            <rect clip-path="url(#pencil-eraser)" height="30" width="5" fill="#4a7c59"></rect>
                            <rect height="20" width="30" fill="#f1ec33"></rect>
                            <rect height="20" width="15" fill="#f1ec33"></rect>
                            <rect height="20" width="5" fill="#f1ec33"></rect>
                            <rect height="2" width="30" y="6" fill="rgba(53, 53, 57, 0.2)"></rect>
                            <rect height="2" width="30" y="13" fill="rgba(53, 53, 57, 0.2)"></rect>
                        </g>
                    </g>
                    <g transform="rotate(-90) translate(49,-30)" class="pencil__point">
                        <polygon points="15 0,30 30,0 30" fill="#f1ec33"></polygon>
                        <polygon points="15 0,6 30,0 30" fill="#f1ec33"></polygon>
                        <polygon points="15 0,20 10,10 10" fill="#353539"></polygon>
                    </g>
                </g>
            </svg>
            <p class="mt-4 text-green-medium font-medium">Signing you in...</p>
        </div>
    </div>

    <div class="w-full lg:w-1/2 bg-white relative overflow-hidden flex items-center justify-center">
        <img 
            src="/src/login.png"
            alt="Office workspace illustration"
            class="w-full h-full object-cover"
        >
    </div>

    <div class="w-full lg:w-1/2 bg-white flex flex-col justify-center px-6 py-8 lg:px-12 lg:py-0">
        <div class="mb-6 lg:mb-8">
            <!-- Added logo beside Sign In heading -->
            <div class="flex items-center gap-3 mb-2">
                <img 
                    src="/src/godc.png"
                    alt="Company Logo"
                    class="w-8 h-8 lg:w-10 lg:h-10"
                >
                <h1 class="text-2xl lg:text-3xl font-semibold text-primary-dark">Sign In to GODC Portal</h1>
            </div>
            <p class="text-sm text-gray-600">Manage Access Point through the admin dashboard.</p>
        </div>

        <form class="space-y-4 lg:space-y-5" onsubmit="handleLogin(event)">
            <div>
                <input 
                    type="email" 
                    id="email" 
                    name="email"
                    class="w-full px-4 py-3 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-medium focus:border-transparent bg-gray-50"
                    placeholder="Email"
                    required
                >
            </div>

            <div>
                <input 
                    type="password" 
                    id="password" 
                    name="password"
                    class="w-full px-4 py-3 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-medium focus:border-transparent bg-gray-50"
                    placeholder="Password"
                    required
                >
            </div>

            <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 sm:gap-0">
                <label class="flex items-center">
                    <input type="checkbox" class="w-4 h-4 text-green-medium bg-gray-100 border-gray-300 rounded focus:ring-green-medium focus:ring-2">
                    <span class="ml-2 text-sm text-gray-600">Remember me</span>
                </label>
                <a href="#" class="text-sm text-green-medium hover:text-green-dark">Forgot Password</a>
            </div>

            <button 
                type="submit"
                class="w-full bg-green-medium hover:bg-green-dark text-white py-3 px-4 rounded-lg text-sm font-medium focus:outline-none focus:ring-2 focus:ring-green-medium transition-colors"
            >
                Log In
        </button>
        </form>
    </div>

    <script>
        async function handleLogin(event) {
            event.preventDefault();
            
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;
            
            if (email && password) {
                await signInUser(email, password);
            }
        }
    </script>
</body>
</html> 
